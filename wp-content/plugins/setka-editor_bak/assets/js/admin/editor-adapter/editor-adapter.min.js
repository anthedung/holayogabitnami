!function n(a,d,r){function l(t,e){if(!d[t]){if(!a[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(u)return u(t,!0);var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}var o=d[t]={exports:{}};a[t][0].call(o.exports,function(e){return l(a[t][1][e]||e)},o,o.exports,n,a,d,r)}return d[t].exports}for(var u="function"==typeof require&&require,e=0;e<r.length;e++)l(r[e]);return l}({1:[function(e,t,i){t.exports=Backbone.Collection.extend({})},{}],2:[function(e,t,i){arguments[4][1][0].apply(i,arguments)},{dup:1}],3:[function(e,t,i){var s={};(window.setkaEditorAdapter=s).model={Form:e("./model/Form"),EditorConfig:e("./model/EditorConfig"),EditorResources:e("./model/EditorResources"),Theme:e("./model/Theme"),Layout:e("./model/Layout")},s.collection={Themes:e("./collection/Themes"),Layouts:e("./collection/Layouts")},s.view={Page:e("./view/Page"),HTML:e("./view/HTML"),TypeKit:e("./view/TypeKit"),screenMeta:{EditorExpand:e("./view/screen-meta/EditorExpand")},notices:{Prototype:e("./view/notices/Prototype"),SetkaEditorCantFindResources:e("./view/notices/SetkaEditorCantFindResources"),SetkaEditorThemeDisabled:e("./view/notices/SetkaEditorThemeDisabled")},AddMediaButton:e("./view/AddMediaButton"),EditorTabs:e("./view/editor-tabs/EditorTabs"),EditorTabDefault:e("./view/editor-tabs/TabDefault"),EditorTabSetka:e("./view/editor-tabs/TabSetka"),Editor:e("./view/EditorSetka"),EditorDefault:e("./view/EditorDefault"),postStuff:{PostStuff:e("./view/poststuff/PostStuff"),postBody:{PostBody:e("./view/poststuff/post-body/PostBody")}},AdminMenu:e("./view/AdminMenu"),Form:e("./view/form/Form"),Settings:e("./view/form/Settings"),Nonce:e("./view/form/Nonce"),PostId:e("./view/form/PostId"),pointers:{DisabledTabsPointer:e("./view/pointers/DisabledTabsPointer")}},s.utils={editorExpand:{EditorExpand:e("./utils/editor-expand/EditorExpand")},AutoSave:e("./utils/AutoSave"),autop:e("./utils/autop"),TypeKitManager:e("./utils/TypeKitManager")}},{"./collection/Layouts":1,"./collection/Themes":2,"./model/EditorConfig":4,"./model/EditorResources":5,"./model/Form":6,"./model/Layout":7,"./model/Theme":8,"./utils/AutoSave":9,"./utils/TypeKitManager":10,"./utils/autop":11,"./utils/editor-expand/EditorExpand":12,"./view/AddMediaButton":13,"./view/AdminMenu":14,"./view/EditorDefault":15,"./view/EditorSetka":16,"./view/HTML":17,"./view/Page":18,"./view/TypeKit":19,"./view/editor-tabs/EditorTabs":20,"./view/editor-tabs/TabDefault":21,"./view/editor-tabs/TabSetka":22,"./view/form/Form":23,"./view/form/Nonce":24,"./view/form/PostId":25,"./view/form/Settings":26,"./view/notices/Prototype":27,"./view/notices/SetkaEditorCantFindResources":28,"./view/notices/SetkaEditorThemeDisabled":29,"./view/pointers/DisabledTabsPointer":30,"./view/poststuff/PostStuff":31,"./view/poststuff/post-body/PostBody":32,"./view/screen-meta/EditorExpand":33}],4:[function(e,t,i){t.exports=Backbone.Model.extend({})},{}],5:[function(e,t,i){var o=window.setkaEditorAdapter;t.exports=Backbone.Model.extend({initialize:function(){this._setupThemes(),this._setupLayouts()},_setupThemes:function(){var s=new o.collection.Themes;_.each(this.get("themes"),function(e,t,i){s.add(new o.model.Theme(e))}),this.set("themes",s)},_setupLayouts:function(){var s=new o.collection.Layouts;_.each(this.get("layouts"),function(e,t,i){s.add(new o.model.Layout(e))}),this.set("layouts",s)},getThemeBySlug:function(e){return this.get("themes").findWhere({id:e})},getThemeById:function(e){return this.get("themes").findWhere({theme_id:e})},getLayoutBySlug:function(e){return this.get("layouts").findWhere({id:e})},toJSON:function(e){var t=_.clone(this.attributes);return t.themes=t.themes.toJSON(),t.layouts=t.layouts.toJSON(),t}})},{}],6:[function(e,t,i){t.exports=Backbone.Model.extend({defaults:{postId:null,textareaId:null,editorInitialized:!1,editorConfig:{},editorContent:"",useSetkaEditor:!1,postBoxesColumns:null,postBoxContainer1Hovered:!1},initialize:function(){_.bindAll(this,"onEditorInitializedChanged");var e=this.get("useSetkaEditor");_.isBoolean(e)||("1"===e?this.set("useSetkaEditor",!0):this.set("useSetkaEditor",!1)),this.addEvents()},addEvents:function(){this.on("change:editorInitialized",this.onEditorInitializedChanged)},onEditorInitializedChanged:function(){this.set("useSetkaEditor",this.get("editorInitialized"))},getDataForAutosave:function(){return{useSetkaEditor:this.get("useSetkaEditor")?"1":"0",editorConfig:this.get("editorConfig").toJSON(),_wpnonce:this.get("nonce"),postId:this.get("postId")}}})},{}],7:[function(e,t,i){t.exports=Backbone.Model.extend({})},{}],8:[function(e,t,i){t.exports=Backbone.Model.extend({isDisabled:function(){var e=this.get("disabled");return!_.isUndefined(this.get("disabled"))&&!0===e},getTypeKidId:function(){var e=this.get("kit_id");return _.isUndefined(e)&&(e=""),e}})},{}],9:[function(e,t,i){var s=jQuery,o=window.setkaEditorAdapterL10n;t.exports=Backbone.View.extend({DOM:{},initialize:function(){_.bindAll(this,"save","onHeartBeatSend","onHeartBeatTick"),this.setupDOM(),this.addEvents()},setupDOM:function(){this.DOM.document=s(document)},addEvents:function(){this.DOM.document.on("heartbeat-send."+o.names.css,this.onHeartBeatSend),this.DOM.document.on("heartbeat-tick."+o.names.css,this.onHeartBeatTick)},save:function(){window.wp.heartbeat.enqueue(o.names.css,this.model.getDataForAutosave(),!1)},onHeartBeatSend:function(e,t){_.isUndefined(t[o.names.css])&&_.isUndefined(t.wp_autosave)||(this.model.get("editorInitialized")&&(t.wp_autosave.content=this.model.get("editorContent")),t[o.names.css]=this.model.getDataForAutosave())},onHeartBeatTick:function(e,t){}})},{}],10:[function(e,t,i){var s=window.setkaEditorAdapter;t.exports=Backbone.View.extend({views:{},initialize:function(){_.bindAll(this,"onTypeKitIdChanged"),this.addEvents(),this.onTypeKitIdChanged()},addEvents:function(){this.model.get("editorConfig").on("change:typeKitId",this.onTypeKitIdChanged)},onTypeKitIdChanged:function(){var e=this.model.get("editorConfig").get("typeKitId");_.isString(e)&&""!==e&&_.isUndefined(this.views[e])&&(this.views[e]=new s.view.TypeKit({model:new Backbone.Model({id:e})}),this.views[e].render())}})},{}],11:[function(e,t,i){t.exports=function(e){var t=!1,i=!1,s="table|thead|tfoot|caption|col|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|form|map|area|blockquote|address|math|style|p|h[1-6]|hr|fieldset|legend|section|article|aside|hgroup|header|footer|nav|figure|figcaption|details|menu|summary";return-1===(e=e.replace(/\r\n|\r/g,"\n")).indexOf("\n")||(-1!==e.indexOf("<object")&&(e=e.replace(/<object[\s\S]+?<\/object>/g,function(e){return e.replace(/\n+/g,"")})),-1===(e=e.replace(/<[^<>]+>/g,function(e){return e.replace(/[\n\t ]+/g," ")})).indexOf("<pre")&&-1===e.indexOf("<script")||(t=!0,e=e.replace(/<(pre|script)[^>]*>[\s\S]*?<\/\1>/g,function(e){return e.replace(/\n/g,"<wp-line-break>")})),-1!==e.indexOf("[caption")&&(i=!0,e=e.replace(/\[caption[\s\S]+?\[\/caption\]/g,function(e){return(e=(e=e.replace(/<br([^>]*)>/g,"<wp-temp-br$1>")).replace(/<[^<>]+>/g,function(e){return e.replace(/[\n\t ]+/," ")})).replace(/\s*\n\s*/g,"<wp-temp-br />")})),e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e+="\n\n").replace(/<br \/>\s*<br \/>/gi,"\n\n")).replace(new RegExp("(<(?:"+s+")(?: [^>]*)?>)","gi"),"\n$1")).replace(new RegExp("(</(?:"+s+")>)","gi"),"$1\n\n")).replace(/<hr( [^>]*)?>/gi,"<hr$1>\n\n")).replace(/\s*<option/gi,"<option")).replace(/<\/option>\s*/gi,"</option>")).replace(/\n\s*\n+/g,"\n\n")).replace(/([\s\S]+?)\n\n/g,"<p>$1</p>\n")).replace(/<p>\s*?<\/p>/gi,"")).replace(new RegExp("<p>\\s*(</?(?:"+s+")(?: [^>]*)?>)\\s*</p>","gi"),"$1")).replace(/<p>(<li.+?)<\/p>/gi,"$1")).replace(/<p>\s*<blockquote([^>]*)>/gi,"<blockquote$1><p>")).replace(/<\/blockquote>\s*<\/p>/gi,"</p></blockquote>")).replace(new RegExp("<p>\\s*(</?(?:"+s+")(?: [^>]*)?>)","gi"),"$1")).replace(new RegExp("(</?(?:"+s+")(?: [^>]*)?>)\\s*</p>","gi"),"$1")).replace(/(<br[^>]*>)\s*\n/gi,"$1")).replace(/\s*\n/g,"<br />\n")).replace(new RegExp("(</?(?:"+s+")[^>]*>)\\s*<br />","gi"),"$1")).replace(/<br \/>(\s*<\/?(?:p|li|div|dl|dd|dt|th|pre|td|ul|ol)>)/gi,"$1")).replace(/(?:<p>|<br ?\/?>)*\s*\[caption([^\[]+)\[\/caption\]\s*(?:<\/p>|<br ?\/?>)*/gi,"[caption$1[/caption]")).replace(/(<(?:div|th|td|form|fieldset|dd)[^>]*>)(.*?)<\/p>/g,function(e,t,i){if(i.match(/<p( [^>]*)?>/))return e;var s=document.createElement("p");return s.innerHTML=i,t+s.outerHTML}),t&&(e=e.replace(/<wp-line-break>/g,"\n")),i&&(e=e.replace(/<wp-temp-br([^>]*)>/g,"<br$1>"))),e}},{}],12:[function(e,t,i){var s=jQuery;t.exports=Backbone.View.extend({DOM:{},initialize:function(){_.bindAll(this,"autoOff","lateInit"),this.setupDOM(),setTimeout(this.lateInit,3e3)},lateInit:function(){this.addEvents(),this.autoOff()},setupDOM:function(){this.DOM.document=s(document)},addEvents:function(){this.model.on("change:editorInitialized",this.autoOff),this.DOM.document.on("editor-expand-on",this.autoOff)},autoOff:function(){this.model.get("editorInitialized")&&this.off()},off:function(){_.isUndefined("window.editorExpand")||window.editorExpand.off()},on:function(){_.isUndefined("window.editorExpand")||window.editorExpand.on()}})},{}],13:[function(e,t,i){t.exports=Backbone.View.extend({el:"#insert-media-button",initialize:function(){this.addEvents()},addEvents:function(){_.bindAll(this,"onEditorInitialized"),this.model.on("change:editorInitialized",this.onEditorInitialized)},onEditorInitialized:function(){this.model.get("editorInitialized")?this.hide():this.show()},hide:function(){this.$el.hide()},show:function(){this.$el.show()}})},{}],14:[function(e,t,i){var s=jQuery;t.exports=Backbone.View.extend({el:"#adminmenu",DOM:{},initialize:function(){this.setupDOM()},setupDOM:function(){this.DOM.body=s(document.body),this.DOM.collapseButton=s("#collapse-button")},isFolded:function(){return this.DOM.body.hasClass("folded")},fold:function(){this.isFolded()||this.DOM.collapseButton.trigger("click.collapse-menu")},unFold:function(){this.isFolded()&&this.DOM.collapseButton.trigger("click.collapse-menu")}})},{}],15:[function(e,t,i){t.exports=Backbone.View.extend({DOM:{},initialize:function(){this.setupDOM(),this.syncModel(),_.bindAll(this,"syncModel")},setupDOM:function(){this.DOM.textarea=this.$("#"+this.model.get("textareaId"))},render:function(){return this.setContent(),this},show:function(){this.$el.show()},hide:function(){this.$el.hide()},getContent:function(){return this.DOM.textarea.val()},setContent:function(){this.DOM.textarea.val(this.model.get("editorContent"))},syncModel:function(){this.model.set("editorContent",this.getContent())}})},{}],16:[function(e,t,i){var l=window.setkaEditorAdapter,s=window.setkaEditorAdapterL10n;$=jQuery,t.exports=Backbone.View.extend({DOM:{},attributes:function(){return{id:"content-"+s.names.css,class:s.names.css+"-wrapper",style:"display: none;"}},initialize:function(){this.setupDOM(),this.addEvents()},setupDOM:function(){this.DOM.document=$(document)},addEvents:function(){_.bindAll(this,"onLayoutChanged","onThemeChanged","recalculateWidth","syncModel"),window.ContentEdit.Root.get().bind("post:layout",this.onLayoutChanged),window.ContentEdit.Root.get().bind("post:theme",this.onThemeChanged),this.DOM.document.on("wp-collapse-menu",this.recalculateWidth)},render:function(){return this.DOM.stk_editor_wrapper_2=$("<div></div>").addClass(s.names.css+"-wrapper-2"),this.$el.append(this.DOM.stk_editor_wrapper_2),this},show:function(){this.model.get("editorInitialized")||(this.DOM.stk_editor_wrapper_2.html('<div id="setka-editor" class="stk-editor"></div>'),this.$el.show(),this._start(),this.model.set("editorInitialized",!0),$("body").trigger("resize").trigger("scroll"),this.model.set("editorContent",this._preparePlainContent(this.model.get("editorContent"))),this.setContent(),this.DOM.stk_editor=this.$(".stk-editor"),Backbone.trigger("setka:editor:adapter:editors:setka:launch"))},afterShow:function(){this.recalculateWidth()},hide:function(){this._stop(),this.model.set("editorInitialized",!1),this.$el.hide(),Backbone.trigger("setka:editor:adapter:editors:setka:stop")},getContent:function(){return SetkaEditor.getHTML()},setContent:function(){return SetkaEditor.replaceHTML(this.model.get("editorContent")),this},getWidth:function(){return this.DOM.stk_editor.outerWidth()},setTheme:function(e){return SetkaEditor.post.setTheme(e),this},getTheme:function(){return SetkaEditor.getCurrentTheme()},setLayout:function(e){return SetkaEditor.post.setLayout(e),this},getLayout:function(){return SetkaEditor.getCurrentLayout()},_preparePlainContent:function(e){var t=document.createElement("div");t.innerHTML=e;for(var i="",s=!1,o=0;o<t.childNodes.length;o++){var n=t.childNodes[o];if(3===n.nodeType){if(""===n.textContent.trim())continue;var a=l.utils.autop(n.textContent);if(-1===a.indexOf("<p>")){var d=document.createElement("p");d.innerHTML=a,a=d.outerHTML}i+=a,s=!0}else jQuery(n).hasClass("stk-post")||(s=!0),i+=n.outerHTML}if(s){var r=document.createElement("div");r.className="stk-post",r.innerHTML=i,i=r.outerHTML}return i},_start:function(){var e=this.model.get("editorConfig").toJSON(),t=this.model.get("editorResources").toJSON();SetkaEditor.start(e,t);var i=this.getLayout(),s=this.getTheme();this.model.get("editorConfig").set("layout",i.id),this.model.get("editorConfig").set("theme",s.id);var o=this.model.get("editorResources").getThemeBySlug(s.id).getTypeKidId();this.model.get("editorConfig").set("typeKitId",o)},_stop:function(){SetkaEditor.stop()},recalculateWidth:function(){window.ContentEdit.Root.get().trigger("editor:width")},syncModel:function(){return this.model.set("editorContent",this.getContent()),this},onLayoutChanged:function(e){this.model.get("editorConfig").set("layout",e)},onThemeChanged:function(e){this.model.get("editorConfig").set("theme",e);var t=this.model.get("editorResources").getThemeBySlug(e).getTypeKidId();this.model.get("editorConfig").set("typeKitId",t)},isRequiredResourcesAvailable:function(){var e=this.model.get("editorResources").getThemeBySlug(this.model.get("editorConfig").get("theme"));if(_.isEmpty(e))return!1;var t=this.model.get("editorResources").getLayoutBySlug(this.model.get("editorConfig").get("layout"));return!_.isEmpty(t)},isThemeDisabled:function(){var e=this.model.get("editorConfig").get("theme");return this.model.get("editorResources").getThemeBySlug(e).isDisabled()}})},{}],17:[function(e,t,i){t.exports=Backbone.View.extend({el:"html",initialize:function(){_.bindAll(this,"setkaEditorEnabled","setkaEditorDisabled"),this.addEvents()},addEvents:function(){Backbone.on("setka:editor:adapter:editors:setka:launch",this.setkaEditorEnabled),Backbone.on("setka:editor:adapter:editors:setka:stop",this.setkaEditorDisabled)},setkaEditorEnabled:function(){this.$el.addClass("wpstkeditor")},setkaEditorDisabled:function(){this.$el.removeClass("wpstkeditor")}})},{}],18:[function(e,t,i){var s=window.setkaEditorAdapter,o=jQuery,n=window.setkaEditorAdapterL10n;t.exports=Backbone.View.extend({views:{},utils:{},DOM:{},initialize:function(){this.setupDOM(),this.createUtils(),this.createSubViews(),_.bindAll(this,"switchToSetkaEditor","switchToDefaultEditor","onPostBoxesColumns","saveIntoDOM"),this.addEvents(),this.render(),this.model.get("useSetkaEditor")&&this.switchToSetkaEditor()},setupDOM:function(){this.DOM.wp_content_wrap=o("#wp-content-wrap")},createUtils:function(){this.utils.autosave=new s.utils.AutoSave({model:this.model}),this.utils.editorExpand={editorExpand:new s.utils.editorExpand.EditorExpand({model:this.model})},this.utils.typeKitManager=new s.utils.TypeKitManager({model:this.model})},createSubViews:function(){this.views.html=new s.view.HTML,this.views.adminMenu=new s.view.AdminMenu,this.views.screenMeta={editorExpand:new s.view.screenMeta.EditorExpand},this.views.notices={setkaEditorCantFindResources:new s.view.notices.SetkaEditorCantFindResources,setkaEditorThemeDisabled:new s.view.notices.SetkaEditorThemeDisabled},this.views.postStuff=new s.view.postStuff.PostStuff({model:this.model}),this.views.form=new s.view.Form({model:this.model}),this.views.addMediaButton=new s.view.AddMediaButton({model:this.model}),this.views.editorTabs=new s.view.EditorTabs({el:"#wp-"+this.model.get("textareaId")+"-wrap .wp-editor-tabs",model:this.model}),this.views.editorDefault=new s.view.EditorDefault({el:"#wp-"+this.model.get("textareaId")+"-editor-container",model:this.model}),this.views.setkaEditor=new s.view.Editor({model:this.model}),this.views.pointers={disabledTabs:new s.view.pointers.DisabledTabsPointer}},addEvents:function(){Backbone.on("setka:editor:adapter:editorTabs:setka:click",this.switchToSetkaEditor),Backbone.on("setka:editor:adapter:editorTabs:default:click",this.switchToDefaultEditor)},render:function(){this.views.form.render(),this.views.editorTabs.render(),this.views.setkaEditor.render(),this.DOM.wp_content_wrap.append(this.views.setkaEditor.$el)},switchToSetkaEditor:function(){this.views.setkaEditor.isRequiredResourcesAvailable()?(Backbone.trigger("setka:editor:adapter:editors:setka:requiredResourcesAvailable"),this.views.setkaEditor.isThemeDisabled()?Backbone.trigger("setka:editor:adapter:editors:setka:themeDisabled"):Backbone.trigger("setka:editor:adapter:editors:setka:themeEnabled"),_.isUndefined(window.switchEditors)||window.switchEditors.go(this.model.get("textareaId"),"html"),this.views.editorDefault.syncModel(),(_.isEmpty(this.model.get("editorContent"))||this.model.get("useSetkaEditor")||confirm(n.view.editor.switchToSetkaEditorConfirm))&&(this.DOM.wp_content_wrap.removeClass("html-active tmce-active").addClass(n.names.css+"-active"),this.views.setkaEditor.show(),this.views.editorDefault.hide(),this.views.editorTabs.muteDefaults(),window.setInterval(this.saveIntoDOM,15e3),Backbone.on("setka:editor:adapter:save",this.saveIntoDOM),this.isEditorFitToSize()||this.views.adminMenu.fold(),this.isEditorFitToSize()||2!==this.model.get("postBoxesColumns")||this.views.postStuff.collapse(),this.model.on("change:postBoxesColumns",this.onPostBoxesColumns),this.views.setkaEditor.afterShow())):Backbone.trigger("setka:editor:adapter:editors:setka:requiredResourcesNotAvailable")},switchToDefaultEditor:function(){this.DOM.wp_content_wrap.removeClass(n.names.css+"-active").addClass("html-active"),window.clearInterval(this.saveIntoDOM),Backbone.off("setka:editor:adapter:save",this.saveIntoDOM),this.saveIntoDOM(),this.views.editorDefault.show(),this.views.setkaEditor.hide(),this.views.editorTabs.unMuteDefaults(),this.model.off("change:postBoxesColumns",this.onPostBoxesColumns),this.views.postStuff.unCollapse()},isEditorFitToSize:function(){return this.views.postStuff.views.postBody.$el.width()>=this.views.setkaEditor.getWidth()},onPostBoxesColumns:function(){1===this.model.get("postBoxesColumns")?this.views.postStuff.unCollapse():this.isEditorFitToSize()||this.views.postStuff.collapse(),this.views.setkaEditor.recalculateWidth()},saveIntoDOM:function(){return this.views.setkaEditor.syncModel(),this.views.editorDefault.setContent(),this}})},{}],19:[function(e,t,i){var s=window.setkaEditorAdapterL10n;t.exports=Backbone.View.extend({tagName:"link",attributes:{rel:"stylesheet"},getSrc:function(){return"//use.typekit.net/"+this.model.get("id")+".css"},getId:function(){return s.names.css+"-type-kit-"+this.model.get("id")},render:function(){this.$el.attr("id",this.getId()).attr("href",this.getSrc()),document.head.appendChild(this.el)}})},{}],20:[function(e,t,i){jQuery;var s=window.setkaEditorAdapter;t.exports=Backbone.View.extend({views:{defaults:{},setka:null},initialize:function(){this.createSubViews()},createSubViews:function(){_.bindAll(this,"createDefaultTabsViews"),this.$(".wp-switch-editor").each(this.createDefaultTabsViews),this.views.setka=new s.view.EditorTabSetka},createDefaultTabsViews:function(e,t){this.views.defaults[e]=new s.view.EditorTabDefault({el:t,model:this.model})},render:function(){return this.views.setka.render(),this.$el.append(this.views.setka.$el),this},hideDefaults:function(){_.each(this.views.defaults,function(e){e.$el.hide()})},muteDefaults:function(){_.each(this.views.defaults,function(e){e.mute()})},unMuteDefaults:function(){_.each(this.views.defaults,function(e){e.unMute()})}})},{}],21:[function(e,t,i){var s=window.setkaEditorAdapterL10n;t.exports=Backbone.View.extend({events:{click:"onClick"},classes:{muted:s.names.css+"-switch-editor-muted"},onClick:function(e){this.model.get("editorInitialized")&&(Backbone.trigger("setka:editor:adapter:defaultTabClick",e),e.stopImmediatePropagation())},mute:function(){return this.$el.addClass(this.classes.muted),this},unMute:function(){return this.$el.removeClass(this.classes.muted),this},isMuted:function(){return this.$el.hasClass(this.classes.muted)}})},{}],22:[function(e,t,i){var s=window.setkaEditorAdapterL10n;t.exports=Backbone.View.extend({events:{click:"onClick"},tagName:"button",attributes:function(){var e=[s.names.css+"-switch-editor","switch-"+s.names.css];return{id:"content-"+s.names.css,class:e.join(" ")}},render:function(){return this.$el.text(s.view.editor.tabName),this},onClick:function(e){e.preventDefault(),e.stopPropagation(),Backbone.trigger("setka:editor:adapter:editorTabs:setka:click")}})},{}],23:[function(e,t,i){var s=window.setkaEditorAdapter;t.exports=Backbone.View.extend({el:"#post",events:{submit:"onSubmit"},views:{},initialize:function(){this.createSubViews()},render:function(){return this.$el.append(this.views.settings.$el),this},createSubViews:function(){this.views.settings=new s.view.Settings({model:this.model}),this.views.nonce=new s.view.Nonce({model:this.model}),this.views.postId=new s.view.PostId({model:this.model})},onSubmit:function(){Backbone.trigger("setka:editor:adapter:save"),this.views.settings.render()}})},{}],24:[function(e,t,i){var s=jQuery;t.exports=Backbone.View.extend({el:"#_wpnonce",initialize:function(){this.model.set("nonce",this.get()),_.bindAll(this,"wpRefreshNonces"),s(document).on("heartbeat-tick.wp-refresh-nonces",this.wpRefreshNonces)},get:function(){return this.$el.val()},wpRefreshNonces:function(e,t){var i=t["wp-refresh-post-nonces"];i&&i.replace[this.$el.attr("id")]&&this.model.set("nonce",i.replace[this.$el.attr("id")])}})},{}],25:[function(e,t,i){t.exports=Backbone.View.extend({el:"#post_ID",initialize:function(){this.model.set("postId",this.get())},get:function(){return this.$el.val()}})},{}],26:[function(e,t,i){var s=window.setkaEditorAdapterL10n;t.exports=Backbone.View.extend({tagName:"input",attributes:function(){return{type:"hidden",id:s.names.css+"-settings",name:s.names.css+"-settings",val:JSON.stringify(this.model.getDataForAutosave())}},render:function(){return this.$el.val(JSON.stringify(this.model.getDataForAutosave())),this}})},{}],27:[function(e,t,i){t.exports=Backbone.View.extend({statusClasses:{success:"notice-success",warning:"notice-warning",error:"notice-error",info:"notice-info"},removeAllStatuses:function(){_.each(this.statusClasses,function(e,t,i){this.$el.removeClass(e)},this)},setStatusSuccess:function(){this.removeAllStatuses(),this.$el.addClass(this.statusClasses.success)},setStatusWarning:function(){this.removeAllStatuses(),this.$el.addClass(this.statusClasses.warning)},setStatusError:function(){this.removeAllStatuses(),this.$el.addClass(this.statusClasses.error)},setStatusInfo:function(){this.removeAllStatuses(),this.$el.addClass(this.statusClasses.info)}})},{}],28:[function(e,t,i){var s=window.setkaEditorAdapterL10n;t.exports=Backbone.View.extend({el:"#wp-kit-notice-"+s.names.css+"-"+s.names.css+"-cant-find-resources",initialize:function(){_.bindAll(this,"requiredResourcesNotAvailable","requiredResourcesAvailable"),this.addEvents()},addEvents:function(){Backbone.on("setka:editor:adapter:editors:setka:requiredResourcesNotAvailable",this.requiredResourcesNotAvailable),Backbone.on("setka:editor:adapter:editors:setka:requiredResourcesAvailable",this.requiredResourcesAvailable)},requiredResourcesNotAvailable:function(){this.show()},requiredResourcesAvailable:function(){this.hide()},show:function(){this.$el.removeClass("hidden")},hide:function(){this.$el.addClass("hidden")}})},{}],29:[function(e,t,i){var s=window.setkaEditorAdapterL10n;t.exports=Backbone.View.extend({el:"#wp-kit-notice-"+s.names.css+"-"+s.names.css+"-theme-disabled",initialize:function(){_.bindAll(this,"themeDisabled","themeEnabled"),this.addEvents()},addEvents:function(){Backbone.on("setka:editor:adapter:editors:setka:themeDisabled",this.themeDisabled),Backbone.on("setka:editor:adapter:editors:setka:themeEnabled",this.themeEnabled)},themeDisabled:function(){this.show()},themeEnabled:function(){this.hide()},show:function(){this.$el.removeClass("hidden")},hide:function(){this.$el.addClass("hidden")}})},{}],30:[function(e,t,i){var s=jQuery,o=window.setkaEditorAdapterL10n;t.exports=Backbone.View.extend({initialize:function(){_.bindAll(this,"onDefaultTabClick"),this.addEvents()},addEvents:function(){Backbone.on("setka:editor:adapter:defaultTabClick",this.onDefaultTabClick)},removeEvents:function(){Backbone.off("setka:editor:adapter:defaultTabClick",this.onDefaultTabClick)},onDefaultTabClick:function(e){s(o.pointers.disabledEditorTabs.target).pointer(o.pointers.disabledEditorTabs.options).pointer("open")}})},{}],31:[function(e,t,i){var s=window.setkaEditorAdapter,o=setkaEditorAdapterL10n;t.exports=Backbone.View.extend({el:"#poststuff",views:{},DOM:{},classes:{collapsed:o.names.css+"-poststuff-container-1-collapsed"},initialize:function(){_.bindAll(this,"collapse","unCollapse"),this.createSubViews()},createSubViews:function(){this.views.postBody=new s.view.postStuff.postBody.PostBody({model:this.model})},collapse:function(){this.$el.addClass(this.classes.collapsed),Backbone.trigger("setka:editor:adapter:poststuff:collapsed")},unCollapse:function(){this.$el.removeClass(this.classes.collapsed),Backbone.trigger("setka:editor:adapter:poststuff:unCollapsed")}})},{}],32:[function(e,t,i){var s=jQuery;t.exports=Backbone.View.extend({el:"#post-body",DOM:{},initialize:function(){this.model.set("postBoxesColumns",this.getCols()),_.bindAll(this,"onPostBoxesColumnChange"),this.setupDOM(),this.addEvents()},setupDOM:function(){this.DOM.document=s(document)},addEvents:function(){this.DOM.document.on("postboxes-columnchange",this.onPostBoxesColumnChange)},getCols:function(){var e;return e=this.$el.hasClass("columns-1"),this.$el.hasClass("columns-2")&&!e?2:1},onPostBoxesColumnChange:function(){this.model.set("postBoxesColumns",this.getCols())}})},{}],33:[function(e,t,i){t.exports=Backbone.View.extend({el:"#adv-settings .editor-expand",initialize:function(){_.bindAll(this,"onLaunch","onStop"),this.addEvents()},addEvents:function(){Backbone.on("setka:editor:adapter:editors:setka:launch",this.onLaunch),Backbone.on("setka:editor:adapter:editors:setka:stop",this.onStop)},removeEvents:function(){Backbone.off("setka:editor:adapter:editors:setka:launch",this.onLaunch),Backbone.off("setka:editor:adapter:editors:setka:stop",this.onStop)},onLaunch:function(){this.hide()},onStop:function(){this.show()},hide:function(){this.$el.hide()},show:function(){this.$el.show()}})},{}]},{},[3]);
//# sourceMappingURL=editor-adapter.min.js.map